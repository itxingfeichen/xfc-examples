#   性能调优
##  性能调优基础
### 什么是性能调优
*   合理充分利用服务起的资源
*   调优方向
    *   CPU步骤
        *   通过top命令查看cpu情况，找到占用资源最高的进程ID（java进程）
        *   通过top -H -p pid
        *   将进程id转换为是十六进制，通过命令 printf '%x' 线程id
        *   通过jdk自带的工具jstack -l pid >> /tmp/error.log
        *   搜索第三部打印出来的十六进制数据，即可定位到指定的耗cpu的线程，既可以定位到指定的代码
    *   Memory
    *   IO
    *   
*   监控实现
    +   www.zipkin.io
    +   cat
##  jvm调优
*   jvm参数调优
    *   X代表非标准参数
    *   XX代表非标准并且不保证稳定性的参数
    *   XX-/XX+代表布尔类型的参数
*   jvm垃圾回收的条件
    *   
*   jvm垃圾回收算法
    *   标记清楚算法
    *   可达性分析分
    *   标记整理算法
*   jvm垃圾收集器
    *   垃圾收集器是垃圾回收算法的实现
        ![垃圾收集器](./images/垃圾收集器.jpg '垃圾收集器')
    *   
##  tomcat
###   tomcat目录介绍
####   conf目录
*   `catalina.policy`:tomcat安全策略文件，控制jvm相关权限，具体参考`java.seurity.Permission`
*   `catalina.properties`:tomcat Catclina行为控制配置文件，比如common ClassLoader
*   `logging.properties`:tomcat日志配置文件，jdk logging
*   `server.xml`:tomcat服务配置
    *   `GlobalNamingResources`:全局JNDI资源
*   `tomcat-user.xml`:tomcat角色权限配置文件，realm文件实现方式
*   `context.xml`: 全局配置文件
*   `web.xml`:servlet标准的web.xml部署文件。tomcat默认实现部分配置
    *   `DefaultServlet`
    *   `JspServlet`
####    lib目录
*   tomcat存放公共目录的包
    *   `ecj-*.jar`:eclipse java编译器
    *   `jasper.jar`:jsp编译器
    *   其他自行了解
####    logs目录
*   `localhost.${date}.log`:当tomcat应用起不来的时候，多看该文件。如：NoClassDefiniedException
*   `catalina.${date}.log`:控制台输出，`System.setOut()`外置
####    webapps目录
*   一般不会直接把包放近webapps目录下，一般建议外置（比较专业的用法）

### 嵌入式tomcat
####    web技术栈
####    Servlet技术栈
####    webflux（netty） 

        
        
